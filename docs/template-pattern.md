V0 시절 코드의 비교해서 V3 코드가 상당히 복잡해졌다. 그 이유는 해심 기능 (역할) + 부가 기능 (로깅) 이 합쳐 있어서 그렇다.

핵심 기능 vs 부가 기능

"핵심 기능" 은 해당 객체가 제공하는 고유의 기능이다. 예를 들어 'orderService'의 핵심 기능은 주문 로직이다.
"부가 기능" 은 핵심 기능을 보조하기 위해 제공되는 기능이다. 예를 들어서 로그 추적 로직, 트랜잭션 기능이 있다. 이러한 부가 기능은 단독으로 사용되지 않고, 핵심 기능과 함께 사용된다. 예를 들어서 로그 추적
기능은 어떤 핵심 기능이 호출되었는지 로그를 남기기 위해 사용한다. 그러니까 핵심 기능을 보조하기 위해 존재한다.

이 문제를 더 효율적으로 처리할 수 있는 방법이 있을까?

힌트: 로그 추적기를 사용하는 구조는 모두 동일하다. 중간에 핵심 기능을 사용하는 코드만 다를 뿐이다.


**"변하는 것과 변하지 않는 것을 분리"**
좋은 설계는 변하는 것과 변하지 않는 것을 분리하는 것이다.
여기서 핵심 기능은 변하고, 로그 추적기를 사용하는 부분은 변하지 않는 부분이다.
이 둘을 분리해서 모듈화해야 한다.

탬플릿 메서드 패턴(Template Method Pattern) 은 이런 문제를 해결하는 디자인 패턴ㅇ니다.

템플릿이라는 틀에 변하지 않는 부분을 몰아둔다.
그리고 일부 변하는 부분을 별도로 호출해서 해결한다.

템플릿 메서 패턴은 부모 클래스에 변하지 않는 템플릿 코드를 둔다.
그리고 변하는 부분은 자식 클래스에 두고 상속과 오버라이딩을 사용해서 처리한다.


### 단점

SubClassLogic1, SubClassLogic2 처럼 클래스를 계속 만들어야 하는 단점이 있다.
익명 내부 클래스를 사용하면 이런 단점을 보완할 수 있다.


